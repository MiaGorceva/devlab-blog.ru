<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>ERP, которая не превращается в дорогой тормоз: ограничения 1С / SAP / Dynamics / Odoo – DevLab Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Разбор идеи из статьи на Хабре «ERP, которая не ломается от изменений»: почему ERP становится дорогой через 6–18 месяцев, где появляется lock-in, и как это проявляется в 1С / SAP / Dynamics / Odoo. Реальные мини-кейсы, таблица сравнения и вопросы для демо."
  />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="https://uk.devlab.blog/img/devlab-logo.svg">
  <link rel="alternate icon" type="image/png" sizes="32x32" href="https://uk.devlab.blog/img/devlab-favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://uk.devlab.blog/img/devlab-favicon-180.png">

  <!-- Consent Mode (set BEFORE GTM) -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    gtag('consent','default',{
      analytics_storage:'denied',
      ad_storage:'denied',
      ad_user_data:'denied',
      ad_personalization:'denied',
      functionality_storage:'granted',
      security_storage:'granted'
    });
  </script>

  <!-- Main blog styles -->
  <link rel="stylesheet" href="https://uk.devlab.blog/style/devlab-style.css">

  <!-- Main blog scripts (year + search + views counter) -->
  <script src="https://uk.devlab.blog/js/script.js" defer></script>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ru.devlab.blog/posts/post16-erp-change-friendly-architecture-compare.html"
    },
    "headline": "ERP, которая не превращается в дорогой тормоз: ограничения 1С / SAP / Dynamics / Odoo",
    "description": "Разбор идеи из статьи на Хабре «ERP, которая не ломается от изменений»: почему ERP становится дорогой через 6–18 месяцев, где появляется lock-in, и как это проявляется в 1С / SAP / Dynamics / Odoo. Реальные мини-кейсы, таблица сравнения и вопросы для демо.",
    "author": { "@type": "Organization", "name": "DevLab Blog" },
    "publisher": {
      "@type": "Organization",
      "name": "DevLab",
      "logo": { "@type": "ImageObject", "url": "https://uk.devlab.blog/img/devlab-logo.svg" }
    },
    "datePublished": "2026-01-22",
    "dateModified": "2026-01-22"
  }
  </script>

  <link rel="canonical" href="https://ru.devlab.blog/posts/post16-erp-change-friendly-architecture-compare.html">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WTZDV4K6');</script>
  <!-- End Google Tag Manager -->
</head>

<body class="post-page">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WTZDV4K6"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="page">
    <!-- HEADER -->
    <header>
      <div class="wrapper">
        <nav class="nav">
          <a href="/" class="nav-brand">
            <div class="nav-logo" aria-hidden="true">
              <img src="https://uk.devlab.blog/img/devlab-logo.svg" alt="DevLab Blog logo">
            </div>
            <div class="nav-meta">
              <div class="nav-meta-title">DevLab Blog</div>
              <div class="nav-meta-sub">Open-source ERP &amp; automation notes</div>
            </div>
          </a>

          <div class="nav-group">
            <div class="nav-links">
              <a href="/#posts">Статьи</a>
              <a href="/#categories">Категории</a>
              <a href="/#about">О блоге</a>
              <a href="https://devlab.blog" target="_blank" rel="noopener noreferrer">Главный сайт</a>
            </div>
            <div class="nav-lang">
              <a href="https://en.devlab.blog/">EN</a>
              <a href="https://pl.devlab.blog/">PL</a>
              <a href="https://ru.devlab.blog/" class="active">RU</a>
              <a href="https://uk.devlab.blog/">UA</a>
            </div>
          </div>

          <div class="nav-cta">
            <a href="/#posts" class="btn btn-outline">Все статьи</a>
            <a href="/#about" class="btn btn-primary">Что это?</a>
          </div>

          <button class="nav-toggle" aria-label="Toggle navigation">☰</button>
        </nav>
      </div>
    </header>

    <!-- MAIN -->
    <main>
      <div class="wrapper">
        <div class="main-grid">
          <!-- ARTICLE -->
          <article id="post16-erp-change-friendly-architecture-compare">
            <div class="section-title">
              <span>Статья</span>
              <small><a class="back" href="/">← Назад ко всем статьям</a></small>
            </div>

            <header>
              <div class="post-meta">
                <span>ERP · Практика управления изменениями</span>
                <span>&middot;</span>
                <span>Примерно 10–12 мин чтения</span>
                <span>&middot;</span>
                <span>Для собственников и руководителей</span>
              </div>

              <h1 class="hero-title">
                ERP, которая не превращается в дорогой тормоз:  </h1>
                <h2>анализ архитектуры 1С / SAP / Dynamics / Odoo</h2>
             
                <p>
                Если на запуске ERP “едет” — это ещё не успех. Это скорее стандартная ситуация.
                На старте процессы часто подгоняют под систему, команда мотивирована, нагрузка прогнозируемая,
                а часть неудобных правил откладывают “на потом”.
              </p>
              <p>
                Настоящая проверка начинается позже — когда бизнес делает то, ради чего ERP вообще нужна:
                <strong>меняет правила управления компанией без потери контроля</strong>
              </p>

              <ul>
                <li>новая схема скидок или бонусов;</li>
                <li>новые типы договоров и оплата “как в жизни” (предоплата/постоплата/этапы);</li>
                <li>новые ограничения по рискам и кредитным лимитам;</li>
                <li>новые маршруты согласования по логике (а не “по должности”);</li>
                <li>новые каналы продаж и новая аналитика прибыли;</li>
                <li>пересборка интеграций (CRM, WMS, маркетплейсы, BI).</li>
              </ul>

              <figure class="post-hero">
                <img
                  src="https://uk.devlab.blog/img/post16-erp-architecture-doesnt-break-compare-1c-sap-dynamics-odoo.webp"
                  alt="ERP без боли от изменений: правила бизнеса, контроль стоимости изменений, предсказуемая эволюция системы"
                  loading="lazy"
                  decoding="async"
                >
              </figure>
            </header>

            <section class="post-content">
            <div class="callout">
              <strong>По мотивам технических статей на Хабре</strong>
              <p>
                Этот материал — независимый разбор архитектурных ограничений ERP на основе двух статей:
                <a href="https://habr.com/ru/companies/lsfusion/articles/544982/" target="_blank" rel="noopener noreferrer">
                  “ERP, которая не ломается от изменений” ↗
                </a>
                и
                <a href="https://habr.com/ru/companies/lsfusion/articles/468415/" target="_blank" rel="noopener noreferrer">
                  “Ограничения 1С:Предприятия” ↗
                </a>.
                Мы не оцениваем “какая ERP лучше”. Мы берём <strong>каждый тезис пункт-в-пункт</strong> и показываем,
                <strong>как это обычно выглядит в 1С / SAP / Dynamics / Odoo</strong> — и почему “архитектура” внезапно
                становится проблемой руководителей, когда бизнес начинает менять правила.
              </p>
            </div>

  <h2 id="how-to-read">Как читать этот разбор</h2>
  <p>
    Каждый пункт ниже — это <strong>архитектурное ограничение</strong>, которое проявляется не сразу.
    Сначала оно выглядит как “особенность платформы”, потом — как “нужна доработка”, а ещё позже —
    как “почему у нас любое изменение превращается в мини-проект”.
  </p>

  <p>
    Формат один и тот же:
  </p>

  <ul>
    <li><strong>Что имеется в виду</strong> (коротко и технически)</li>
    <li><strong>Как это обычно выглядит в 1С</strong></li>
    <li><strong>Как это обычно выглядит в SAP</strong></li>
    <li><strong>Как это обычно выглядит в Microsoft Dynamics</strong></li>
    <li><strong>Как это обычно выглядит в Odoo</strong></li>
    <li><strong>К чему это приводит на практике</strong> (не маркетинг — наблюдение из проектов)</li>
  </ul>

  <hr>

  <!-- ===================================================== -->
  <h2 id="limit-1-objects">Ограничение 1. Объекты: справочники, документы и т.д.</h2>

  <p>
    В классических ERP объектная модель выглядит “естественно”: есть справочники, документы, регистры,
    есть формы и отчёты. Проблема начинается не с наличия объектов — а с того, что
    <strong>объект становится “центром архитектуры”</strong>, и бизнес-логика начинает расползаться по слоям:
    в формах, обработчиках, отчётах, интеграциях, правах доступа.
  </p>

  <div class="callout">
    <strong>Ключевая идея из статей</strong>
    <p>
      Система плохо переносит изменения, если “правила бизнеса” не описаны как единая логика,
      а спрятаны в поведении отдельных объектов и их обработчиках.
      Тогда изменение одного правила начинает цеплять всё вокруг.
    </p>
  </div>

  <h3 id="limit-1-1c">Как это выглядит в 1С</h3>
  <p>
    1С строится вокруг объектов метаданных: <strong>Справочники / Документы / Регистры</strong>.
    С точки зрения разработчика это удобно на старте: всё “лежит по папкам”.
    Но типичная деградация начинается тогда, когда бизнес-правила реализуются не как “правило”,
    а как смесь:
  </p>
  <ul>
    <li>обработчиков проведения документа,</li>
    <li>логики формы,</li>
    <li>запросов в отчётах,</li>
    <li>проверок прав,</li>
    <li>скрытых “исключений” (исторически добавленных условий).</li>
  </ul>

  <h3 id="limit-1-sap">Как это выглядит в SAP</h3>
  <p>
    SAP менее “прямолинейно объектный”, но в больших ландшафтах проблема похожая:
    бизнес-логика распределяется между несколькими уровнями:
  </p>
  <ul>
    <li>стандартными объектами и настройками,</li>
    <li>расширениями (user exits / BAdI и т.п.),</li>
    <li>workflow-слоем,</li>
    <li>интеграционными точками,</li>
    <li>аналитическими представлениями (CDS и пр.).</li>
  </ul>
  <p>
    В результате “правило” часто становится не единым описанием, а композицией фрагментов,
    распределённых по системе.
  </p>

  <h3 id="limit-1-dynamics">Как это выглядит в Microsoft Dynamics</h3>
  <p>
    В Dynamics (особенно в CRM/Dataverse подходе) центром являются <strong>Entities</strong>,
    вокруг которых растёт слой автоматизаций:
  </p>
  <ul>
    <li>бизнес-правила в конфигурации,</li>
    <li>плагины/скрипты,</li>
    <li>Power Automate / workflows,</li>
    <li>интеграции и коннекторы.</li>
  </ul>
  <p>
    На старте это выглядит гибко. Но при росте количества правил появляется знакомый эффект:
    бизнес-логика “распылена”, и руководству сложно понять,
    <strong>почему система повела себя так, а не иначе</strong>.
  </p>

  <h3 id="limit-1-odoo">Как это выглядит в Odoo</h3>
  <p>
    Odoo моделирует всё через ORM-модели и модули. Формально это “модульно”.
    На практике ограничения появляются, когда:
  </p>
  <ul>
    <li>модулей становится много,</li>
    <li>правила пересекаются между модулями,</li>
    <li>настройки и кастомизация реализуются в разном стиле,</li>
    <li>обновления начинают конфликтовать с кастомом.</li>
  </ul>
  <p>
    То есть объектная модель “держится”, но переносимость изменений зависит от дисциплины разработки.
  </p>

  <h3 id="limit-1-practice">Что обычно ломается на практике</h3>
  <p>
    Когда объект становится центром архитектуры, компания сталкивается с тем, что:
  </p>
  <ul>
    <li>изменение “простого правила” требует правок в нескольких местах,</li>
    <li>сложно объяснять причинность (почему скидка/маржа/лимит именно такие),</li>
    <li>логика перестаёт быть управляемой и превращается в “историю внедрения”.</li>
  </ul>

  <hr>

  <!-- ===================================================== -->
  <h2 id="limit-2-data-fetch">Ограничение 2. Неэффективное получение данных объектов</h2>

  <p>
    В статье речь о том, что в объектной архитектуре “естественное” чтение данных часто получается неэффективным:
    система не умеет <strong>получить данные ровно в том виде, в котором они нужны логике</strong>,
    и разработчик начинает собирать картину вручную.
  </p>

  <p>
    Классический симптом: вместо одного оптимального запроса получается либо
    <strong>цепочка запросов</strong>, либо
    <strong>чтение объектов в циклах</strong>.
  </p>

  <h3 id="limit-2-1c">1С</h3>
  <p>
    В 1С это проявляется очень узнаваемо:
  </p>
  <ul>
    <li>часть данных читается запросом,</li>
    <li>часть — “через объект” (ПолучитьОбъект/Записать/Прочитать),</li>
    <li>часть — внутри обработчиков, где уже нет нормального контекста оптимизации.</li>
  </ul>
  <p>
    Итог: даже когда отчёт “вроде бы простой”, он может собираться из десятков обращений к данным,
    а тормоза проявятся только при росте объёма.
  </p>

  <h3 id="limit-2-sap">SAP</h3>
  <p>
    В SAP проблема часто выглядит иначе: данные есть, SQL мощный,
    но архитектурно доступ к данным проходит через уровни, и разработчик/команда:
  </p>
  <ul>
    <li>теряет контроль над фактическими запросами,</li>
    <li>получает тяжёлые выборки “на всякий случай”,</li>
    <li>боится менять запросы, потому что неясно, кто ещё зависит от этих объектов.</li>
  </ul>

  <h3 id="limit-2-dynamics">Dynamics</h3>
  <p>
    Для Dynamics типична ORM-природа: часто получается много обращений вместо одного.
    Особенно если логика размазана между:
  </p>
  <ul>
    <li>клиентом (UI),</li>
    <li>плагинами,</li>
    <li>workflow-автоматизациями,</li>
    <li>интеграциями.</li>
  </ul>

  <h3 id="limit-2-odoo">Odoo</h3>
  <p>
    Odoo даёт удобный ORM, но у ORM есть классическая болезнь:
    <strong>N+1 запрос</strong> и скрытые “дорогие” вычисления.
    В небольших данных это не видно. При росте — внезапно “всё стало медленно”.
  </p>

  <h3 id="limit-2-practice">К чему это приводит</h3>
  <ul>
    <li>Система внезапно деградирует по скорости через 6–12 месяцев.</li>
    <li>Любая новая аналитика требует “ручного тюнинга”.</li>
    <li>Команда боится изменений, потому что изменения непредсказуемо влияют на нагрузку.</li>
  </ul>

  <hr>

  <!-- ===================================================== -->
  <h2 id="limit-3-registers">Ограничение 3. Таблицы / Представления: регистры</h2>

  <p>
    Регистры в контексте статьи — это попытка создать “аналитический слой” поверх объектной модели,
    чтобы можно было быстро получать агрегаты, остатки, движения и т.д.
  </p>

  <p>
    Архитектурный конфликт в том, что регистры часто являются <strong>вторым миром</strong>:
    операции живут в документах, а аналитическая правда — в регистрах,
    и синхронизация между ними со временем становится отдельной проблемой.
  </p>

  <h3 id="limit-3-1c">1С</h3>
  <p>
    В 1С регистры — ключевая часть платформы, но они решают далеко не всё:
  </p>
  <ul>
    <li>часть логики остаётся в коде объектов и обработчиков,</li>
    <li>не всё удобно выражается через регистры,</li>
    <li>часто появляются “особые случаи”, которые регистр не закрывает без костылей.</li>
  </ul>

  <h3 id="limit-3-sap">SAP</h3>
  <p>
    В SAP аналог “регистров” часто реализован через:
  </p>
  <ul>
    <li>таблицы движения + агрегаты,</li>
    <li>аналитические представления,</li>
    <li>CDS Views,</li>
    <li>отдельные контуры отчётности.</li>
  </ul>
  <p>
    Конфликт возникает там же: бизнес-логика распределяется между уровнями,
    и “что считать правдой” становится вопросом договорённостей, а не системы.
  </p>

  <h3 id="limit-3-dynamics">Dynamics</h3>
  <p>
    В Dynamics “регистровость” часто уходит в:
  </p>
  <ul>
    <li>отдельные отчётные хранилища,</li>
    <li>Power BI,</li>
    <li>интеграции и витрины.</li>
  </ul>
  <p>
    То есть агрегаты чаще живут вне основного транзакционного контура.
  </p>

  <h3 id="limit-3-odoo">Odoo</h3>
  <p>
    В Odoo часть агрегатов и остатков решается внутри логики модулей.
    Но как только требуется “правда” не только для операций, но и для управления,
    появляются:
  </p>
  <ul>
    <li>кастомные отчёты,</li>
    <li>SQL views,</li>
    <li>внешние BI-контуры.</li>
  </ul>

  <h3 id="limit-3-practice">К чему это приводит</h3>
  <ul>
    <li>Появляется “двойная правда”: операции ≠ управленческие цифры.</li>
    <li>Агрегаты начинают жить отдельно от правил.</li>
    <li>Изменения правил требуют синхронных изменений в “двух слоях”.</li>
  </ul>

  <hr>

  <!-- ===================================================== -->
  <h2 id="limit-4-registers-narrow">Ограничение 4. Регистры поддерживаются в очень частных случаях</h2>

  <p>
    Этот пункт про то, что даже если аналитический слой существует, он поддерживает
    <strong>узкий набор “правильных” сценариев</strong>. Как только бизнес-логика выходит за рамки этих сценариев —
    разработчик снова уходит в ручную реализацию.
  </p>

  <h3 id="limit-4-1c">1С</h3>
  <p>
    Типовая ситуация: стандартные регистры отлично работают, пока всё “по учебнику”.
    Но как только появляются:
  </p>
  <ul>
    <li>нетипичные схемы расчётов,</li>
    <li>сложные исключения,</li>
    <li>нестандартные условия перехода состояний,</li>
  </ul>
  <p>
    — часть логики уходит в код и перестаёт быть прозрачной для системы.
  </p>

  <h3 id="limit-4-sap">SAP</h3>
  <p>
    В SAP похожий эффект: мощная база позволяет многое,
    но стандартные модели рассчитаны на “типовой бизнес”.
    Любой нетиповой контур превращается в:
  </p>
  <ul>
    <li>доработки,</li>
    <li>расширения,</li>
    <li>интеграционную логику,</li>
    <li>или отдельный контур (например, отдельная витрина данных).</li>
  </ul>

  <h3 id="limit-4-dynamics">Dynamics</h3>
  <p>
    В Dynamics ограничения чаще не “в теории”, а в практике эксплуатации:
    чем больше логики вынесено в automation-слой, тем сложнее сделать так,
    чтобы агрегаты и контрольные показатели оставались едиными.
  </p>

  <h3 id="limit-4-odoo">Odoo</h3>
  <p>
    В Odoo этот пункт обычно проявляется так:
    модуль даёт хороший “типовой сценарий”, но расширение логики требует вмешательства в код,
    и дальше вопрос уже не в “возможности”, а в том, как поддерживать этот кастом через обновления.
  </p>

  <h3 id="limit-4-practice">К чему это приводит</h3>
  <ul>
    <li>Часть управления и контроля становится “ручной”.</li>
    <li>Система перестаёт быть единым механизмом — она становится набором частных решений.</li>
    <li>Растёт цена сопровождения именно из-за нестандартных сценариев (а они всегда появятся).</li>
  </ul>

  <hr>

  <!-- ===================================================== -->
  <h2 id="limit-5-no-constraints-events">Ограничение 5. Отсутствие ограничений и событий для значений регистров</h2>

  <p>
    Здесь ключевой момент очень конкретный:
    бизнес часто хочет правила вида:
  </p>

  <ul>
    <li>“Если суммарная задолженность клиента &gt; лимита — запретить отгрузку”,</li>
    <li>“Если остаток на складе стал отрицательным — не проводить документ”,</li>
    <li>“Если маржа по заказу &lt; X — отправить на согласование”,</li>
  </ul>

  <p>
    То есть правила завязаны не на поля одного объекта, а на <strong>агрегированные значения</strong>.
    Проблема в том, что в ряде платформ такие правила не являются “первоклассными”:
    их нужно реализовывать вручную.
  </p>

  <h3 id="limit-5-1c">1С</h3>
  <p>
    В 1С контроль регистровых значений обычно реализуется как:
  </p>
  <ul>
    <li>проверка в момент проведения документа,</li>
    <li>или отдельные процедуры контроля,</li>
    <li>или “обработка ошибок вручную”.</li>
  </ul>
  <p>
    Это работает, но приводит к типовой проблеме:
    <strong>правило становится кодом</strong>, а не частью модели.
    Поэтому его сложно переиспользовать, тестировать и безопасно менять.
  </p>

  <h3 id="limit-5-sap">SAP</h3>
  <p>
    В SAP подобные проверки обычно строятся через комбинацию:
  </p>
  <ul>
    <li>настроек,</li>
    <li>расширений,</li>
    <li>workflow,</li>
    <li>и (часто) внешних контуров контроля.</li>
  </ul>
  <p>
    В результате контроль может быть сильным, но цена его изменения обычно высокая:
    потому что он завязан на несколько слоёв.
  </p>

  <h3 id="limit-5-dynamics">Dynamics</h3>
  <p>
    В Dynamics ограничения на агрегаты часто превращаются в:
  </p>
  <ul>
    <li>плагины,</li>
    <li>асинхронные автоматизации,</li>
    <li>проверки “после факта”.</li>
  </ul>
  <p>
    Это особенно опасно для сценариев, где нужно строгое правило “до операции”,
    а не “поймать проблему потом”.
  </p>

  <h3 id="limit-5-odoo">Odoo</h3>
  <p>
    В Odoo ограничения можно писать кодом (constraints), но проблема в том, что
    контроль агрегатов часто требует дополнительных вычислений и запросов,
    а значит:
  </p>
  <ul>
    <li>это нагрузка,</li>
    <li>это риск гонок данных,</li>
    <li>это сложность поддержки через обновления.</li>
  </ul>

  <h3 id="limit-5-practice">К чему это приводит</h3>
  <ul>
    <li>Контроль становится “скриптом”, а не частью системы.</li>
    <li>Правила теряют прозрачность и объяснимость.</li>
    <li>Бизнес быстро начинает жить в режиме “исключения и ручной контроль”.</li>
  </ul>

  <hr>

<!-- ===================================================== -->
<h2 id="limit-6-virtual-params-constants">Ограничение 6. В параметрах виртуальных таблиц можно использовать только константы</h2>

<p>
  Этот пункт звучит “узко”, но на практике означает очень простую боль:
  <strong>нельзя гибко управлять выборкой данных под конкретный контекст</strong>
  (пользователь, текущий документ, режим работы, сложные условия).
</p>

<p>
  В идеальном мире ERP-платформа позволяет сделать запрос вида:
  “дай мне остатки/движения/показатели <strong>для этих объектов</strong> с учётом <strong>этого набора условий</strong>”.
  В реальности ограничения уровня “только константы” часто превращают это в компромисс:
</p>

<ul>
  <li>или делаем “универсальную” выборку и потом фильтруем руками,</li>
  <li>или делаем кучу почти одинаковых отчётов/обработок “под кейс”,</li>
  <li>или переносим расчёты в код.</li>
</ul>

<h3 id="limit-6-1c">1С</h3>
<p>
  В 1С виртуальные таблицы используются активно (остатки, обороты и т.п.),
  но их параметры часто ограничены именно таким образом:
  для многих сценариев нельзя подставить в параметры “динамическое условие”, которое вычисляется в ходе логики.
</p>

<p>
  Итог типовой:
  запрос становится слишком “общим”, а фильтрация и логика начинают жить вне базы данных.
  То есть нагрузка и сложность уходят в прикладной слой.
</p>

<h3 id="limit-6-sap">SAP</h3>
<p>
  В SAP аналогичные задачи чаще закрываются через SQL/CDS/аналитику.
  Параметризация есть, но архитектурное ограничение обычно другое:
  сложные условия часто “расползаются” между CDS, логикой приложения и аналитикой.
</p>

<p>
  То есть гибкость выше, но риск всё равно похожий:
  когда правило сложно выразить чисто в модели данных, оно начинает жить в нескольких местах.
</p>

<h3 id="limit-6-dynamics">Dynamics</h3>
<p>
  В Dynamics проблема проявляется в том, что “умный запрос” часто превращается в:
</p>
<ul>
  <li>несколько запросов через API/ORM,</li>
  <li>фильтрацию на стороне клиента,</li>
  <li>или отдельный pipeline обработки.</li>
</ul>

<p>
  То есть формально “данные достать можно”, но цена точности и скорости растёт.
</p>

<h3 id="limit-6-odoo">Odoo</h3>
<p>
  В Odoo обычно можно выразить условия динамически, но появляются другие компромиссы:
</p>
<ul>
  <li>часть логики проще сделать Python-циклом, чем запросом,</li>
  <li>ORM генерирует не всегда оптимальные выборки,</li>
  <li>сложные домены и контекст приводят к трудноотлаживаемым сценариям.</li>
</ul>

<h3 id="limit-6-practice">К чему это приводит</h3>
<ul>
  <li>Система становится сложной для оптимизации: данные читаются “широко”, потом фильтруются вручную.</li>
  <li>Отчёты и проверки правил начинают вести себя по-разному в разных местах.</li>
  <li>Любая новая логика превращается в “копию плюс исключение”.</li>
</ul>

<hr>

<!-- ===================================================== -->
<h2 id="limit-7-queries">Ограничение 7. Запросы (как отдельный слой системы)</h2>

<p>
  Этот блок в статьях подводит к важной мысли:
  ERP живёт не только объектами, но и тем, насколько <strong>эффективно и безопасно</strong>
  она умеет формировать запросы к данным.
</p>

<p>
  Когда запросный слой слабый, возникает классическая ситуация:
  разработчик получает два варианта — либо писать сложную логику в коде,
  либо городить “почти SQL”, который трудно поддерживать.
</p>

<h3 id="limit-7-1c">1С</h3>
<p>
  У 1С есть собственный язык запросов, и он закрывает базовые вещи.
  Но проблема возникает там, где нужно:
</p>
<ul>
  <li>сложное вычисление показателей,</li>
  <li>динамическая аналитика,</li>
  <li>универсальные правила контроля,</li>
  <li>массовые операции изменения.</li>
</ul>

<p>
  Очень часто это приводит к тому, что часть логики делается в “запросах”,
  часть — в пост-обработке результатов в коде.
  И со временем никто уже не понимает, где именно живёт правило.
</p>

<h3 id="limit-7-sap">SAP</h3>
<p>
  SAP обычно сильнее в запросном слое: SQL, представления, CDS.
  Но появляется другой эффект: уровень “правил” и уровень “данных” часто разделены.
</p>

<p>
  То есть выборка может быть быстрой, но правило может требовать правок в нескольких слоях:
  конфигурация + расширение + аналитическая модель.
</p>

<h3 id="limit-7-dynamics">Dynamics</h3>
<p>
  Dynamics чаще работает через API/ORM/FetchXML (в зависимости от продукта).
  В итоге сложные запросы возможны, но:
</p>
<ul>
  <li>их труднее оптимизировать,</li>
  <li>они дороже в исполнении при больших объёмах,</li>
  <li>часто “побеждает” вариант “выгрузить и посчитать отдельно”.</li>
</ul>

<h3 id="limit-7-odoo">Odoo</h3>
<p>
  Odoo даёт ORM и возможность писать SQL напрямую.
  Но именно смешение двух подходов и является типичной точкой деградации:
</p>
<ul>
  <li>часть команды пишет ORM-логику,</li>
  <li>часть — SQL “для скорости”,</li>
  <li>через год система превращается в гибрид, который трудно сопровождать.</li>
</ul>

<h3 id="limit-7-practice">К чему это приводит</h3>
<ul>
  <li>Правила начинают “жить” в разных слоях (объекты + запросы + обработка результатов).</li>
  <li>Логику тяжело тестировать и объяснять.</li>
  <li>Появляется эффект “не трогать — сломаем отчёты”.</li>
</ul>

<hr>

<!-- ===================================================== -->
<h2 id="limit-8-queries-in-strings">Ограничение 8. Запросы в строках</h2>

<p>
  Это один из самых практичных пунктов.
  “Запросы в строках” = запросы становятся <strong>текстом внутри кода</strong>, а не структурой.
</p>

<p>
  Что это ломает:
</p>
<ul>
  <li>рефакторинг,</li>
  <li>поиск зависимостей,</li>
  <li>типизацию и автопроверки,</li>
  <li>статический анализ,</li>
  <li>безопасное изменение логики.</li>
</ul>

<div class="callout">
  <strong>Связь с идеями статей</strong>
  <p>
    Если правила бизнеса выражаются через запросы-строки и “приклеены” к обработчикам,
    система становится хрупкой: одно изменение “правильного текста” может разрушить цепочку отчётов,
    контроля и интеграций.
  </p>
</div>

<h3 id="limit-8-1c">1С</h3>
<p>
  В 1С это прям классический стиль: запрос — это текст, который компонуется строками.
  Отсюда появляются типовые проблемы:
</p>
<ul>
  <li>ошибка всплывает только в рантайме,</li>
  <li>трудно понять, какие поля реально используются,</li>
  <li>запросы копируются и расходятся в версиях,</li>
  <li>логика “размазывается” по отчётам и обработкам.</li>
</ul>

<h3 id="limit-8-sap">SAP</h3>
<p>
  В SAP запросная логика чаще структурирована лучше (SQL/CDS),
  но “запросы в строках” могут появляться в кастомном коде/скриптах/интеграциях.
  Тогда эффект тот же: строка становится источником истины.
</p>

<h3 id="limit-8-dynamics">Dynamics</h3>
<p>
  В Dynamics часто встречается аналогичная проблема, только в другом виде:
  фильтры, условия и запросы формируются через конфигурацию или текстовые выражения
  (зависит от контура).
</p>
<p>
  То есть запрос “живёт” не как модель, а как выражение, которое сложно контролировать.
</p>

<h3 id="limit-8-odoo">Odoo</h3>
<p>
  В Odoo запросы в строках возникают, когда ORM уже не справился,
  и команда начинает вставлять raw SQL “точечно”.
  Это быстро решает задачу, но разрушает единый стиль и поддержку.
</p>

<h3 id="limit-8-practice">К чему это приводит</h3>
<ul>
  <li>Рост числа “неявных зависимостей” между логикой и отчётами.</li>
  <li>Логику сложно делегировать, сложно объяснять и сложно проверять.</li>
  <li>Даже AI-ассистирование становится хуже: строковый запрос без контекста он “угадывает”, а не понимает.</li>
</ul>

<hr>

<!-- ===================================================== -->
<h2 id="limit-9-no-query-optimizer">Ограничение 9. Отсутствие оптимизатора запросов</h2>

<p>
  Оптимизатор запросов — это не “гиковский термин”.
  Это то, что определяет, сможет ли система автоматически выбрать:
</p>
<ul>
  <li>правильный план выполнения,</li>
  <li>правильные индексы,</li>
  <li>правильный порядок соединений,</li>
  <li>и не превратит ли отчёт в катастрофу на данных в 10–50 раз больше.</li>
</ul>

<p>
  Если оптимизатор слабый или отсутствует на уровне платформы/языка запросов —
  любая аналитика становится проектом по ручному тюнингу.
</p>

<h3 id="limit-9-1c">1С</h3>
<p>
  В 1С эффект чаще всего выглядит так:
</p>
<ul>
  <li>на тестовой базе всё “летает”,</li>
  <li>на продуктиве внезапно “умирает” проведение или отчёт,</li>
  <li>и начинается бесконечная оптимизация: индексы, переписывание запросов, обходы.</li>
</ul>

<h3 id="limit-9-sap">SAP</h3>
<p>
  SAP опирается на сильные СУБД и обычно выигрывает на стороне оптимизации запросов.
  Но это не означает, что “всё бесплатно”:
</p>
<ul>
  <li>сложность моделей и представлений может создавать тяжёлые планы,</li>
  <li>неочевидные зависимости между слоями усложняют оптимизацию,</li>
  <li>всё равно требуется опытная команда, которая понимает, что происходит.</li>
</ul>

<h3 id="limit-9-dynamics">Dynamics</h3>
<p>
  В Dynamics оптимизация зависит от конкретного контура и способа доступа к данным.
  Типовая проблема:
  когда появляется тяжёлая аналитика или сложные условия,
  проще выгрузить в BI, чем пытаться “выжать” правильный план из платформы.
</p>

<h3 id="limit-9-odoo">Odoo</h3>
<p>
  В Odoo многое зависит от PostgreSQL (он даёт хороший оптимизатор).
  Но эффект возникает на уровне приложения:
</p>
<ul>
  <li>ORM генерирует запросы не всегда оптимально,</li>
  <li>сложные вычисления делаются Python-слоем,</li>
  <li>появляются тяжёлые места без явного “центра оптимизации”.</li>
</ul>

<h3 id="limit-9-practice">К чему это приводит</h3>
<ul>
  <li>Скорость системы становится зависимой от отдельных “магических” запросов.</li>
  <li>Любое изменение рискует сломать производительность, даже если функционально всё правильно.</li>
  <li>Команда начинает избегать улучшений и новых аналитик, потому что боится нагрузки.</li>
</ul>

<hr>

<!-- ===================================================== -->
<h2 id="limit-10-no-advanced-sql">Ограничение 10. Отсутствие расширенных SQL возможностей</h2>

<p>
  Под “расширенными возможностями SQL” в статье обычно подразумеваются вещи, которые нужны не ради красоты,
  а ради построения реальной управленческой логики:
</p>

<ul>
  <li>оконные функции (rank, sum over, lag/lead),</li>
  <li>CTE (WITH),</li>
  <li>условные агрегаты,</li>
  <li>нормальная работа с изменениями и версиями данных,</li>
  <li>массовые трансформации без ручных циклов.</li>
</ul>

<p>
  Когда этого нет (или доступно только через сложные обходы),
  всё начинает переноситься в прикладной код.
  А код — это уже другая среда: хуже оптимизация, хуже прозрачность, хуже проверяемость.
</p>

<h3 id="limit-10-1c">1С</h3>
<p>
  В 1С расширенный SQL недоступен напрямую как “естественный инструмент”.
  Поэтому сложные выборки часто превращаются в:
</p>
<ul>
  <li>несколько запросов вместо одного,</li>
  <li>временные таблицы “своими руками”,</li>
  <li>пост-обработку в циклах,</li>
  <li>дубли логики между отчётами.</li>
</ul>

<h3 id="limit-10-sap">SAP</h3>
<p>
  SAP обычно выигрывает: развитые возможности SQL/моделирования есть.
  Но платой становится сложность:
  чтобы “правильно” выразить логику, нужно понимать слой данных и правила стандартных объектов.
</p>

<h3 id="limit-10-dynamics">Dynamics</h3>
<p>
  Dynamics чаще вынужден переносить сложную аналитику в BI-инструменты,
  потому что выразить “богатую” SQL-логику внутри платформы бывает неудобно или дорого.
</p>

<h3 id="limit-10-odoo">Odoo</h3>
<p>
  Odoo на PostgreSQL может использовать расширенный SQL,
  но на практике команда часто боится писать raw SQL массово:
  из-за поддержки, обновлений и “сломаем совместимость”.
  Поэтому снова появляется гибрид: ORM + точечный SQL.
</p>

<h3 id="limit-10-practice">К чему это приводит</h3>
<ul>
  <li>Логика пересчётов расползается по коду и отчётам.</li>
  <li>Система становится менее прозрачной: “где считается этот показатель?”</li>
  <li>Растёт стоимость изменений, потому что нет “единого места”, где это определяется.</li>
</ul>


</section>


              

              <hr>

              <h2 id="sources">Источники и ссылки</h2>
              <ul>
                <li>
                  Исходная идея, по мотивам которой сделан разбор:
                  <a href="https://habr.com/ru/companies/lsfusion/articles/544982/" target="_blank" rel="noopener noreferrer">
                    “ERP, которая не ломается от изменений” (Хабр) ↗
                  </a>
                </li>
              </ul>

              <h2 id="related-posts">Похожие статьи</h2>
              <div class="callout">
                <strong>Продолжить чтение:</strong>
                <p>
                  Если вам важно снизить зависимость от подрядчиков и понять, где на практике теряются деньги в ERP-контуре — вот ещё материалы:
                </p>
                <ul>
                   <li>
                  Базовый обзор open-source ERP и low-code подходов (EN):
                  <a href="https://en.devlab.blog/posts/post13-open-source-erp-low-code.html" target="_blank" rel="noopener noreferrer">
                    Open-source ERP + low-code: what companies actually implement ↗
                  </a>
                </li>
                <li>
                  Контекст про будущие ERP-стэки и “читабельность логики” (Main):
                  <a href="https://en.devlab.blog/main-erp-stack-2032-ai-readable-architectures.html" target="_blank" rel="noopener noreferrer">
                    Why ERP stacks become modular &amp; AI-readable ↗
                  </a>
                </li>
                </ul>
              </div>
            </section>

            <footer class="post-footer-extended">
              <div class="post-footer-meta">
                <div class="post-meta-tags">
                  <span class="post-tag">ERP</span>
                  <span class="post-tag">Управление изменениями</span>
                  <span class="post-tag">1С</span>
                  <span class="post-tag">SAP</span>
                  <span class="post-tag">Dynamics</span>
                  <span class="post-tag">Odoo</span>
                  <span class="post-tag">Интеграции</span>
                  <span class="post-tag">Vendor lock-in</span>
                  <span class="post-tag">Low-code</span>
                </div>

                <div class="post-meta-secondary">
                  <span>Опубликовано: 22 янв 2026</span>
                  <span>·</span>
                  <span>Примерно 10–12 мин чтения</span>
                  <span>·</span>
                  <span class="post-views">Просмотры: <span class="count">—</span></span>
                </div>
              </div>
            </footer>

            <!-- Inline newsletter -->
            <section class="sidebar-block">
              <p class="sidebar-text">
                Без спама — только редкие заметки про ERP, автоматизацию и новые статьи.
              </p>
              <form class="newsletter-form"
                    action="https://formsubmit.co/info@devlab.blog"
                    method="POST">
                <input type="hidden" name="_next" value="https://ru.devlab.blog/thank-you.html">
                <input type="hidden" name="_captcha" value="false">
                <input type="text" name="_honey" style="display:none">

                <input type="email" name="email" class="field" placeholder="Ваш email" required>
                <button class="btn btn-primary" type="submit">Подписаться</button>

                <p class="newsletter-note">
                  Вы получите письмо подтверждения.<br>
                  Работает через FormSubmit.
                </p>
              </form>

              <h2 id="feedback">Быстрый фидбек</h2>
              <div class="callout">
                <strong>Было полезно?</strong>
                <p>Короткий сигнал помогает нам выбирать следующие темы.</p>

                <div class="hero-actions">
                  <button class="btn btn-primary" type="button" data-vote="like">
                    👍 Да <span class="count" data-count="like">—</span>
                  </button>

                  <button class="btn btn-outline" type="button" data-vote="dislike">
                    👎 Не особо <span class="count" data-count="dislike">—</span>
                  </button>
                </div>

                <p class="sidebar-text">Без комментариев и аккаунтов.</p>
              </div>
            </section>

            <div class="post-nav-links">
              <a class="back" href="/#posts" style="margin-left: 0;">← Назад ко всем статьям</a>
              <a class="back" href="/#categories" style="margin-right: 0;">Категории →</a>
            </div>
          </article>

          <!-- SIDEBAR -->
          <aside class="sidebar">
            <section class="sidebar-block">
              <h3 class="sidebar-title" id="topic-question-title">Предложить тему</h3>
              <p class="sidebar-text">
                Есть вопрос или идея для следующей статьи?
                <a class="post-read" href="mailto:info@devlab.blog?subject=Идея%20или%20вопрос%20для%20DevLab%20Blog">
                  Написать нам →
                </a>
              </p>
            </section>

            <section class="sidebar-block">
              <h3 class="sidebar-title">О блоге</h3>
              <p class="sidebar-text">
                DevLab Blog — заметки про open-source ERP, модульные подходы, интеграции и практику автоматизации.
                Пишем про то, что ломается в реальных внедрениях и как принимать технологические решения без “религии”.
              </p>
            </section>

            <section class="sidebar-block">
              <h3 class="sidebar-title">Ещё</h3>
              <p class="sidebar-text">
                Вернитесь на главную страницу или выберите категорию:
              </p>
              <ul>
                <li><a href="/">Все статьи</a></li>
                <li><a href="/#categories">Категории</a></li>
                <li><a href="https://devlab.blog" target="_blank" rel="noopener noreferrer">Главный сайт DevLab</a></li>
              </ul>
            </section>
          </aside>
        </div>
      </div>
    </main>


    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="wrapper footer-grid">
        <div>
          <div class="footer-links">
            <a href="/">Статьи</a>
            <a href="/#categories">Категории</a>
            <a href="/#about">О блоге</a>
            <a href="https://devlab.blog" target="_blank" rel="noopener noreferrer">Главный сайт</a>
          </div>
          <p class="footer-meta">
            DevLab Blog – заметки про open-source ERP, модульные архитектуры и автоматизацию.
          </p>
        </div>
        <div class="footer-meta">
          <p>&copy; <span id="year"></span> DevLab Blog</p>
        </div>
      </div>
    </footer>
  </div>
</body>
</html>
